<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Compress images online free without losing quality. Best tool to reduce JPG, PNG, and WebP sizes instantly for websites, SEO, and social media">
  <meta name="keywords" content="image compression, optimize images, reduce image size, image optimizer, web tools, image compressor online, image compressor online free, compress image without losing quality, best image compression tool, reduce image file size, online image optimizer tool, best image compression tool, online picture resizer and compressor">
  <title>Image Compressor - Optimize Your Images Online</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif}
    body{background:linear-gradient(135deg,#6a11cb 0%,#2575fc 100%);color:#333;line-height:1.6;min-height:100vh;padding:20px}
    .container{max-width:1200px;margin:0 auto}
    header{position:relative;text-align:center;padding:30px 0;color:white}
    header h1{font-size:2.8rem;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,.3)}
    header p{font-size:1.2rem;max-width:800px;margin:0 auto;opacity:.9}
    .back-btn{position:absolute;left:20px;top:20px;padding:10px 20px;background:hsl(0, 0%, 100%);color:#2575fc;border-radius:8px;text-decoration:none;font-weight:600;transition:.3s}
    .back-btn:hover{background:#f1f1f1}
    .tool-container{background:white;border-radius:15px;padding:25px;box-shadow:0 10px 30px rgba(0,0,0,.15);margin-bottom:30px}
    .upload-area{border:3px dashed #6a11cb;border-radius:12px;padding:40px 20px;text-align:center;margin-bottom:25px;transition:.3s;background:#f8f9ff;cursor:pointer}
    .upload-area:hover{background:#eef0ff;border-color:#2575fc}
    .upload-area i{font-size:3rem;color:#6a11cb;margin-bottom:15px}
    .upload-area h3{margin-bottom:10px;color:#333}
    .upload-area p{color:#777}
    #file-input{display:none}
    .compression-controls{margin:25px 0}
    .control-group{margin-bottom:20px}
    .control-group label{display:block;margin-bottom:8px;font-weight:600;color:#444}
    .slider-container{display:flex;align-items:center;gap:15px}
    .slider-container span{font-weight:600;color:#6a11cb;min-width:40px}
    input[type=range]{flex:1;-webkit-appearance:none;height:8px;border-radius:4px;background:#e0e0e0;outline:none}
    input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:#6a11cb;cursor:pointer;transition:.3s}
    input[type=range]::-webkit-slider-thumb:hover{background:#2575fc}
    .button-group{display:flex;gap:15px;align-items:center}
    button{padding:15px;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:.3s;font-size:1rem}
    #compress-btn{background:linear-gradient(to right,#6a11cb,#2575fc);color:white;flex:1}
    #compress-btn:hover{background:linear-gradient(to right,#5809b5,#1c64e0);transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.1)}
    #download-btn{background:#f1f1f1;color:#333;flex:1}
    #download-btn:hover{background:#e5e5e5;transform:translateY(-2px);box-shadow:0 5px 15px rgba(0,0,0,.1)}
    #download-format{padding:12px;border-radius:8px;border:1px solid #ccc;font-weight:600;cursor:pointer}
    .results{margin-top:30px;padding-top:20px;border-top:1px solid #eee}
    .results h3{margin-bottom:15px;color:#444}
    .comparison{display:flex;gap:20px;margin-top:20px;flex-wrap:wrap}
    .original,.compressed{flex:1;min-width:250px}
    .image-box{border-radius:8px;overflow:hidden;box-shadow:0 4px 10px rgba(0,0,0,.1);margin-bottom:10px;height:200px;background:#f1f1f1;display:flex;align-items:center;justify-content:center;color:#999}
    .image-box img{max-width:100%;max-height:100%;object-fit:contain}
    .stats{display:flex;justify-content:space-between;background:#f9f9f9;padding:10px 15px;border-radius:8px;font-size:.9rem}
    .stats div{text-align:center}
    .stats span{font-weight:600;color:#6a11cb}
    .savings{text-align:center;padding:10px;background:#e8f5e9;border-radius:8px;margin-top:15px;font-weight:600;color:#2e7d32}
    .ads-bottom{display:flex;gap:20px;flex-wrap:wrap;justify-content:center;margin-top:30px}
    .ad-space{flex:1;min-width:300px;max-width:500px;background:rgba(255,255,255,.9);border-radius:15px;padding:20px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:200px;box-shadow:0 10px 30px rgba(0,0,0,.15)}
    .ad-label{background:#f1f1f1;color:#888;padding:5px 10px;border-radius:5px;font-size:.8rem;margin-bottom:15px}
    .ad-unit{width:100%;height:150px;background:#f9f9f9;border:1px dashed #ccc;display:flex;align-items:center;justify-content:center;color:#999;font-size:.9rem;text-align:center;padding:15px}
    footer{text-align:center;padding:20px;color:white;margin-top:40px}
    footer p{opacity:.8;margin-bottom:10px}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <a href="../index.html" class="back-btn">â¬… Back to Home</a>
      <h1>Welcome to Image Compressor</h1>
      <p>Optimize your images for web with our fast and easy-to-use compression tool. Adjust compression level to find the perfect balance between quality and file size.</p>
    </header>

    <!-- TOOL CONTENT (unchanged) -->
    <div class="tool-container">
      <div class="upload-area" id="upload-area">
        <i class="fas fa-cloud-upload-alt"></i>
        <h3>Upload Your Image</h3>
        <p>Click or drag & drop to upload an image</p>
        <input type="file" id="file-input" accept="image/*">
      </div>

      <div class="compression-controls">
        <div class="control-group">
          <label for="compression-level">Compression Level</label>
          <div class="slider-container">
            <span id="compression-value">80%</span>
            <input type="range" id="compression-level" min="10" max="100" value="80">
          </div>
        </div>
        <div class="control-group">
          <label for="image-quality">Image Quality</label>
          <div class="slider-container">
            <span id="quality-value">0.8</span>
            <input type="range" id="image-quality" min="1" max="10" value="8">
          </div>
        </div>
      </div>

      <div class="button-group">
        <button id="compress-btn">Compress Image</button>
        <select id="download-format">
          <option value="image/jpeg">JPG</option>
          <option value="image/png">PNG</option>
          <option value="image/webp">WebP</option>
        </select>
        <button id="download-btn" disabled>Download</button>
      </div>

      <div class="results">
        <h3>Compression Results</h3>
        <div class="comparison">
          <div class="original">
            <h4>Original Image</h4>
            <div class="image-box" id="original-image"><p>No image uploaded</p></div>
            <div class="stats">
              <div>Size: <span id="original-size">0 KB</span></div>
              <div>Dimensions: <span id="original-dims">0 x 0</span></div>
            </div>
          </div>
          <div class="compressed">
            <h4>Compressed Image</h4>
            <div class="image-box" id="compressed-image"><p>Image will appear here</p></div>
            <div class="stats">
              <div>Size: <span id="compressed-size">0 KB</span></div>
              <div>Dimensions: <span id="compressed-dims">0 x 0</span></div>
            </div>
          </div>
        </div>
        <div class="savings" id="savings">No compression performed yet</div>
      </div>
    </div>

    <!-- ADS -->
    <div class="ads-bottom">
      <div class="ad-space">
        <div class="ad-label">ADVERTISEMENT</div>
        <div class="ad-unit">Ad Space 1</div>
      </div>
      <div class="ad-space">
        <div class="ad-label">ADVERTISEMENT</div>
        <div class="ad-unit">Ad Space 2</div>
      </div>
    </div>

    <footer>
      <p>&copy; 2023 ImageCompressPro - All rights reserved</p>
      <p>This tool is built with HTML5 Canvas and JavaScript for client-side image processing</p>
    </footer>
  </div>

  <!-- JAVASCRIPT (same as last working version) -->
  <script>
    document.addEventListener('DOMContentLoaded',function(){
      const fileInput=document.getElementById('file-input'),
            uploadArea=document.getElementById('upload-area'),
            compressionLevel=document.getElementById('compression-level'),
            compressionValue=document.getElementById('compression-value'),
            imageQuality=document.getElementById('image-quality'),
            qualityValue=document.getElementById('quality-value'),
            compressBtn=document.getElementById('compress-btn'),
            downloadBtn=document.getElementById('download-btn'),
            originalImage=document.getElementById('original-image'),
            compressedImage=document.getElementById('compressed-image'),
            originalSize=document.getElementById('original-size'),
            compressedSize=document.getElementById('compressed-size'),
            originalDims=document.getElementById('original-dims'),
            compressedDims=document.getElementById('compressed-dims'),
            savings=document.getElementById('savings');

      let uploadedImage=null,compressedImageData=null;

      uploadArea.addEventListener('click',()=>fileInput.click());
      uploadArea.addEventListener('dragover',e=>{e.preventDefault();uploadArea.style.background='#e8f0ff';uploadArea.style.borderColor='#2575fc'});
      uploadArea.addEventListener('dragleave',()=>{uploadArea.style.background='#f8f9ff';uploadArea.style.borderColor='#6a11cb'});
      uploadArea.addEventListener('drop',e=>{
        e.preventDefault();
        uploadArea.style.background='#f8f9ff';uploadArea.style.borderColor='#6a11cb';
        if(e.dataTransfer.files.length){fileInput.files=e.dataTransfer.files;handleImageUpload(e.dataTransfer.files[0]);}
      });
      fileInput.addEventListener('change',()=>{if(fileInput.files.length)handleImageUpload(fileInput.files[0]);});
      compressionLevel.addEventListener('input',()=>compressionValue.textContent=compressionLevel.value+'%');
      imageQuality.addEventListener('input',()=>qualityValue.textContent=(imageQuality.value/10).toFixed(1));
      compressBtn.addEventListener('click',compressImage);
      downloadBtn.addEventListener('click',downloadImage);

      function handleImageUpload(file){
        if(!file.type.match('image.*'))return alert('Please upload an image file');
        const reader=new FileReader();
        reader.onload=function(e){
          uploadedImage=new Image();
          uploadedImage.onload=function(){
            originalImage.innerHTML='';const img=document.createElement('img');img.src=e.target.result;originalImage.appendChild(img);
            originalSize.textContent=(file.size/1024).toFixed(2)+' KB';
            originalDims.textContent=uploadedImage.width+' x '+uploadedImage.height;
            compressedImage.innerHTML='<p>Click "Compress Image" to see result</p>';
            compressedSize.textContent='0 KB';compressedDims.textContent='0 x 0';savings.textContent='No compression performed yet';
            downloadBtn.disabled=true;
          };
          uploadedImage.src=e.target.result;
        };
        reader.readAsDataURL(file);
      }

      function compressImage(){
        if(!uploadedImage)return alert('Please upload an image first');
        const compression=compressionLevel.value/100,
              quality=imageQuality.value/10,
              format=document.getElementById('download-format').value;
        const canvas=document.createElement('canvas'),ctx=canvas.getContext('2d');
        canvas.width=uploadedImage.width*compression;canvas.height=uploadedImage.height*compression;
        ctx.drawImage(uploadedImage,0,0,canvas.width,canvas.height);
        compressedImageData=canvas.toDataURL(format,quality);
        compressedImage.innerHTML='';const img=document.createElement('img');img.src=compressedImageData;compressedImage.appendChild(img);
        const compressedSizeKB=(compressedImageData.length*3/4)/1024;
        compressedSize.textContent=compressedSizeKB.toFixed(2)+' KB';compressedDims.textContent=canvas.width+' x '+canvas.height;
        const originalSizeKB=parseFloat(originalSize.textContent),sizeReduction=originalSizeKB-compressedSizeKB,percentReduction=(sizeReduction/originalSizeKB)*100;
        savings.textContent=`Saved ${sizeReduction.toFixed(2)} KB (${percentReduction.toFixed(1)}% reduction)`;
        downloadBtn.disabled=false;
      }

      function downloadImage(){
        if(!uploadedImage)return;
        const format=document.getElementById('download-format').value,
              quality=imageQuality.value/10,
              compression=compressionLevel.value/100;
        const canvas=document.createElement('canvas'),ctx=canvas.getContext('2d');
        canvas.width=uploadedImage.width*compression;canvas.height=uploadedImage.height*compression;
        ctx.drawImage(uploadedImage,0,0,canvas.width,canvas.height);
        const finalImage=canvas.toDataURL(format,quality);
        const link=document.createElement('a');link.download=`compressed-image.${format.split('/')[1]}`;link.href=finalImage;link.click();
      }
    });
  </script>
</body>
</html>
